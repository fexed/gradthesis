import matplotlib.pyplot as plot

fig, ax = plot.subplots()
#plot.figure(figsize=(20, 3))
ax.set_xticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23])
ax.set_xticklabels(['Off.', 'Cont.', 'Cumul.', 'Repl.\nACC', 'Ep.', 'EWC', 'LWF', '', 'Off.', 'Cont.', 'Cumul.', 'Repl.\nBWT', 'Ep.', 'EWC', 'LWF', '', 'Off.', 'Cont.', 'Cumul.', 'Repl.\nFWT', 'Ep.', 'EWC', 'LWF'])
ax.set_ylabel("Accuratezza")
ax.set_ylim([-0.25, 1])
ax.set_title("Risultati sul dataset ASCERTAIN")
ax.bar(1, 0.4278, color="blue")
ax.bar(2, 0.2500, color="orange")
ax.bar(3, 0.2697, color="green")
ax.bar(4, 0.2603, color="red")
ax.bar(5, 0.2742, color="purple")
ax.bar(6, 0.2497, color="olive")
ax.bar(7, 0.2448, color="cyan")
ax.bar(9, 0, color="blue")
ax.bar(10, -0.0168, color="orange")
ax.bar(11, 0.0064, color="green")
ax.bar(12, -0.014, color="red")
ax.bar(13, 0.0048, color="purple")
ax.bar(14, -0.0183, color="olive")
ax.bar(15, 0.0327, color="cyan")
ax.bar(16, 0, color="blue")
ax.bar(18, 0.0213, color="orange")
ax.bar(19, 0.0278, color="green")
ax.bar(20, 0.0485, color="red")
ax.bar(21, 0.0153, color="purple")
ax.bar(22, -0.0003, color="olive")
ax.bar(23, 0.0156, color="cyan")
plot.gca().margins(x=0)
plot.gcf().canvas.draw()
tl = plot.gca().get_xticklabels()
maxsize = max([t.get_window_extent().width for t in tl])
m = 0.5 # inch margin
s = maxsize/plot.gcf().dpi*23+2*m
margin = m/plot.gcf().get_size_inches()[0]

plot.gcf().subplots_adjust(left=margin, right=1.-margin)
plot.gcf().set_size_inches(s, plot.gcf().get_size_inches()[1])
plot.savefig("plots/ascertain_final_metrics.png")
